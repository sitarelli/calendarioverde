<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Raccolta Rifiuti Zona Verde</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .waste-card { transition: all 0.3s ease; }
    </style>
    
<link rel="icon" type="image/png" href="favicon.png">
    
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div id="app" class="max-w-md w-full bg-white rounded-3xl shadow-2xl overflow-hidden waste-card">
        <!-- Header -->
        <div class="bg-emerald-600 p-6 text-white text-center relative">
            <h1 class="text-sm uppercase tracking-widest font-semibold opacity-80">Calendario Rifiuti Zona Verde</h1>
            <div id="date-label" class="text-3xl font-bold mt-1">Domani</div>
            <div id="full-date" class="text-emerald-100 text-sm mt-1 italic">--</div>
        </div>

        <!-- Content -->
        <div class="p-8">
            <div id="waste-content" class="flex flex-col items-center justify-center min-h-[200px]">
                <!-- Contenuto dinamico inserito da JS -->
                <div class="animate-pulse flex flex-col items-center">
                    <div class="h-20 w-20 bg-gray-200 rounded-full mb-4"></div>
                    <div class="h-4 w-48 bg-gray-200 rounded"></div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex border-t border-gray-100">
            <button onclick="changeDate(-1)" class="flex-1 py-6 flex flex-col items-center justify-center hover:bg-gray-50 transition-colors border-r border-gray-100 group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 group-hover:text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                <span class="text-xs text-gray-400 mt-1 uppercase font-bold">Indietro</span>
            </button>
            <button onclick="resetToTomorrow()" class="px-6 hover:bg-gray-50 text-emerald-600 font-bold text-xs uppercase tracking-tighter">
                Domani
            </button>
            <button onclick="changeDate(1)" class="flex-1 py-6 flex flex-col items-center justify-center hover:bg-gray-50 transition-colors group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 group-hover:text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <span class="text-xs text-gray-400 mt-1 uppercase font-bold">Avanti</span>
            </button>
        </div>
    </div>

    <script>
        // Database dei rifiuti (Chiave: YYYY-MM-DD)
        const wasteData = {
            // GENNAIO 2026
            "2026-01-01": "Nessuno", "2026-01-02": "Plastica", "2026-01-03": "Umido Organico",
            "2026-01-05": "Umido Organico", "2026-01-08": "Umido Organico", "2026-01-09": "Verde e Ramaglie (Mattino)",
            "2026-01-12": "Umido Organico", "2026-01-13": "Secco (Mattino)", "2026-01-14": "Carta e Cartone",
            "2026-01-15": "Umido Organico", "2026-01-16": "Plastica", "2026-01-19": "Umido Organico",
            "2026-01-22": "Umido Organico", "2026-01-26": "Vetro e Lattine + Umido Organico",
            "2026-01-27": "Secco (Mattino)", "2026-01-28": "Carta e Cartone", "2026-01-29": "Umido Organico", "2026-01-30": "Plastica",

            // FEBBRAIO 2026
            "2026-02-02": "Umido Organico", "2026-02-05": "Umido Organico", "2026-02-06": "Verde e Ramaglie (Mattino)",
            "2026-02-09": "Umido Organico", "2026-02-10": "Secco (Mattino)", "2026-02-11": "Carta e Cartone",
            "2026-02-12": "Umido Organico", "2026-02-13": "Plastica", "2026-02-16": "Umido Organico",
            "2026-02-19": "Umido Organico", "2026-02-23": "Vetro e Lattine + Umido Organico",
            "2026-02-24": "Secco (Mattino)", "2026-02-25": "Carta e Cartone", "2026-02-26": "Umido Organico", "2026-02-27": "Plastica",

            // MARZO 2026
            "2026-03-02": "Umido Organico", "2026-03-05": "Umido Organico", "2026-03-06": "Verde e Ramaglie (VS)",
            "2026-03-09": "Umido Organico", "2026-03-10": "Secco", "2026-03-11": "Carta e Cartone",
            "2026-03-12": "Umido Organico", "2026-03-13": "Vetro, Plastica e Lattine", "2026-03-16": "Umido Organico",
            "2026-03-19": "Umido Organico", "2026-03-20": "Verde e Ramaglie (VR)", "2026-03-23": "Umido Organico",
            "2026-03-24": "Secco", "2026-03-25": "Carta e Cartone", "2026-03-26": "Umido Organico",
            "2026-03-27": "Vetro, Plastica e Lattine", "2026-03-30": "Umido Organico",

            // APRILE 2026
            "2026-04-02": "Umido Organico", "2026-04-03": "Verde e Ramaglie (VR)", "2026-04-06": "Umido Organico",
            "2026-04-07": "Secco", "2026-04-08": "Carta e Cartone", "2026-04-09": "Umido Organico",
            "2026-04-10": "Vetro, Plastica e Lattine", "2026-04-13": "Umido Organico", "2026-04-16": "Umido Organico",
            "2026-04-17": "Verde e Ramaglie (VR)", "2026-04-20": "Umido Organico", "2026-04-21": "Secco",
            "2026-04-22": "Carta e Cartone", "2026-04-23": "Umido Organico", "2026-04-24": "Vetro, Plastica e Lattine",
            "2026-04-27": "Umido Organico", "2026-04-30": "Umido Organico",

            // MAGGIO 2026
            "2026-05-01": "Verde e Ramaglie (VR)", "2026-05-04": "Umido Organico", "2026-05-05": "Secco",
            "2026-05-06": "Carta e Cartone", "2026-05-07": "Umido Organico", "2026-05-08": "Vetro, Plastica e Lattine",
            "2026-05-11": "Umido Organico", "2026-05-14": "Umido Organico", "2026-05-15": "Verde e Ramaglie (VR)",
            "2026-05-18": "Umido Organico", "2026-05-19": "Secco", "2026-05-20": "Carta e Cartone",
            "2026-05-21": "Umido Organico", "2026-05-22": "Vetro, Plastica e Lattine", "2026-05-25": "Umido Organico",
            "2026-05-28": "Umido Organico", "2026-05-29": "Verde e Ramaglie (VR)",

            // GIUGNO 2026
            "2026-06-01": "Umido Organico", "2026-06-02": "Secco", "2026-06-03": "Carta e Cartone",
            "2026-06-04": "Umido Organico", "2026-06-05": "Vetro, Plastica e Lattine", "2026-06-08": "Umido Organico",
            "2026-06-11": "Umido Organico", "2026-06-12": "Verde e Ramaglie (VR)", "2026-06-15": "Umido Organico",
            "2026-06-16": "Secco", "2026-06-17": "Carta e Cartone", "2026-06-18": "Umido Organico",
            "2026-06-19": "Vetro, Plastica e Lattine", "2026-06-22": "Umido Organico", "2026-06-25": "Umido Organico",
            "2026-06-26": "Verde e Ramaglie (VR)", "2026-06-29": "Umido Organico", "2026-06-30": "Secco",

            // LUGLIO 2026
            "2026-07-01": "Carta e Cartone", "2026-07-02": "Umido Organico", "2026-07-03": "Vetro, Plastica e Lattine",
            "2026-07-06": "Umido Organico", "2026-07-09": "Umido Organico", "2026-07-10": "Verde e Ramaglie (VR)",
            "2026-07-13": "Umido Organico", "2026-07-14": "Secco", "2026-07-15": "Carta e Cartone",
            "2026-07-16": "Umido Organico", "2026-07-17": "Vetro, Plastica e Lattine", "2026-07-20": "Umido Organico",
            "2026-07-23": "Umido Organico", "2026-07-24": "Verde e Ramaglie (VR)", "2026-07-27": "Umido Organico",
            "2026-07-28": "Secco", "2026-07-29": "Carta e Cartone", "2026-07-30": "Umido Organico", "2026-07-31": "Vetro, Plastica e Lattine",

            // AGOSTO 2026
            "2026-08-03": "Umido Organico", "2026-08-06": "Umido Organico", "2026-08-07": "Verde e Ramaglie (VR)",
            "2026-08-10": "Umido Organico", "2026-08-11": "Secco", "2026-08-12": "Carta e Cartone",
            "2026-08-13": "Umido Organico", "2026-08-14": "Vetro, Plastica e Lattine", "2026-08-17": "Umido Organico",
            "2026-08-20": "Umido Organico", "2026-08-21": "Verde e Ramaglie (VR)", "2026-08-24": "Umido Organico",
            "2026-08-25": "Secco", "2026-08-26": "Carta e Cartone", "2026-08-27": "Umido Organico",
            "2026-08-28": "Vetro, Plastica e Lattine", "2026-08-31": "Umido Organico",

            // SETTEMBRE 2026
            "2026-09-03": "Umido Organico", "2026-09-04": "Verde e Ramaglie (VR)", "2026-09-07": "Umido Organico",
            "2026-09-08": "Secco", "2026-09-09": "Carta e Cartone", "2026-09-10": "Umido Organico",
            "2026-09-11": "Vetro, Plastica e Lattine", "2026-09-14": "Umido Organico", "2026-09-17": "Umido Organico",
            "2026-09-18": "Verde e Ramaglie (VR)", "2026-09-21": "Umido Organico", "2026-09-22": "Secco",
            "2026-09-23": "Carta e Cartone", "2026-09-24": "Umido Organico", "2026-09-25": "Vetro, Plastica e Lattine",
            "2026-09-28": "Umido Organico",

            // OTTOBRE 2026
            "2026-10-01": "Umido Organico", "2026-10-02": "Verde e Ramaglie (VR)", "2026-10-05": "Umido Organico",
            "2026-10-06": "Secco", "2026-10-07": "Carta e Cartone", "2026-10-08": "Umido Organico",
            "2026-10-09": "Vetro, Plastica e Lattine", "2026-10-12": "Umido Organico", "2026-10-15": "Umido Organico",
            "2026-10-16": "Verde e Ramaglie (VS)", "2026-10-19": "Umido Organico", "2026-10-20": "Secco",
            "2026-10-21": "Carta e Cartone", "2026-10-22": "Umido Organico", "2026-10-23": "Vetro, Plastica e Lattine",
            "2026-10-26": "Umido Organico", "2026-10-29": "Umido Organico", "2026-10-30": "Verde e Ramaglie (VR)",

            // NOVEMBRE 2026
            "2026-11-02": "Umido Organico", "2026-11-03": "Secco", "2026-11-04": "Carta e Cartone",
            "2026-11-05": "Umido Organico", "2026-11-06": "Vetro, Plastica e Lattine", "2026-11-09": "Umido Organico",
            "2026-11-12": "Umido Organico", "2026-11-13": "Verde e Ramaglie (VR)", "2026-11-16": "Umido Organico",
            "2026-11-17": "Secco", "2026-11-18": "Carta e Cartone", "2026-11-19": "Umido Organico",
            "2026-11-20": "Vetro, Plastica e Lattine", "2026-11-23": "Umido Organico", "2026-11-26": "Umido Organico",
            "2026-11-27": "Verde e Ramaglie (VR)", "2026-11-30": "Umido Organico",

            // DICEMBRE 2026
            "2026-12-01": "Secco", "2026-12-02": "Carta e Cartone", "2026-12-03": "Umido Organico",
            "2026-12-04": "Vetro, Plastica e Lattine", "2026-12-07": "Umido Organico", "2026-12-10": "Umido Organico",
            "2026-12-11": "Verde e Ramaglie (VR)", "2026-12-14": "Umido Organico", "2026-12-15": "Secco",
            "2026-12-16": "Carta e Cartone", "2026-12-17": "Umido Organico", "2026-12-18": "Vetro, Plastica e Lattine",
            "2026-12-21": "Umido Organico", "2026-12-24": "Umido Organico", "2026-12-28": "Umido Organico",
            "2026-12-29": "Secco", "2026-12-30": "Carta e Cartone", "2026-12-31": "Umido Organico",

            // GENNAIO 2027
            "2027-01-02": "Vetro, Plastica e Lattine", "2027-01-04": "Umido Organico", "2027-01-07": "Umido Organico",
            "2027-01-08": "Verde e Ramaglie (VR)", "2027-01-11": "Umido Organico", "2027-01-12": "Secco",
            "2027-01-13": "Carta e Cartone", "2027-01-14": "Umido Organico", "2027-01-15": "Vetro, Plastica e Lattine",
            "2027-01-18": "Umido Organico", "2027-01-21": "Umido Organico", "2027-01-25": "Umido Organico",
            "2027-01-26": "Secco", "2027-01-27": "Carta e Cartone", "2027-01-28": "Umido Organico", "2027-01-29": "Vetro, Plastica e Lattine",

            // FEBBRAIO 2027
            "2027-02-01": "Umido Organico", "2027-02-04": "Umido Organico", "2027-02-05": "Verde e Ramaglie (VR)",
            "2027-02-08": "Umido Organico", "2027-02-09": "Secco", "2027-02-10": "Carta e Cartone",
            "2027-02-11": "Umido Organico", "2027-02-12": "Vetro, Plastica e Lattine", "2027-02-15": "Umido Organico",
            "2027-02-18": "Umido Organico", "2027-02-22": "Umido Organico", "2027-02-23": "Secco",
            "2027-02-24": "Carta e Cartone", "2027-02-25": "Umido Organico", "2027-02-26": "Vetro, Plastica e Lattine"
        };

        const icons = {
            "Umido Organico": { icon: "üçÇ", color: "bg-orange-100 text-orange-800" },
            "Carta e Cartone": { icon: "üì¶", color: "bg-blue-100 text-blue-800" },
            "Secco": { icon: "üóëÔ∏è", color: "bg-gray-200 text-gray-800" },
            "Plastica": { icon: "ü•§", color: "bg-yellow-100 text-yellow-800" },
            "Vetro e Lattine": { icon: "üçæ", color: "bg-teal-100 text-teal-800" },
            "Vetro, Plastica e Lattine": { icon: "‚ôªÔ∏è", color: "bg-cyan-100 text-cyan-800" },
            "Verde e Ramaglie": { icon: "üåø", color: "bg-green-100 text-green-800" },
            "Nessuno": { icon: "‚ùå", color: "bg-red-50 text-red-400" },
            "Default": { icon: "üò¥", color: "bg-slate-100 text-slate-400" }
        };

        let viewerDate = new Date();
        // Imposta domani come default
        viewerDate.setDate(viewerDate.getDate() + 1);

        function formatDateKey(date) {
            const y = date.getFullYear();
            const m = String(date.getMonth() + 1).padStart(2, '0');
            const d = String(date.getDate()).padStart(2, '0');
            return `${y}-${m}-${d}`;
        }

        function getLabel(date) {
            const today = new Date();
            const tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);

            if (date.toDateString() === today.toDateString()) return "Oggi";
            if (date.toDateString() === tomorrow.toDateString()) return "Domani";
            
            return date.toLocaleDateString('it-IT', { day: 'numeric', month: 'long', year: 'numeric' });
        }

        function render() {
            const key = formatDateKey(viewerDate);
            const content = wasteData[key] || "Nessuna raccolta prevista";
            const label = getLabel(viewerDate);
            
            // Aggiorna Header
            document.getElementById('date-label').innerText = label;
            document.getElementById('full-date').innerText = viewerDate.toLocaleDateString('it-IT', { weekday: 'long', day: 'numeric', month: 'long' });

            // Trova icona e stile
            let type = "Default";
            if (content.includes("Umido")) type = "Umido Organico";
            else if (content.includes("Carta")) type = "Carta e Cartone";
            else if (content.includes("Secco")) type = "Secco";
            else if (content.includes("Vetro, Plastica")) type = "Vetro, Plastica e Lattine";
            else if (content.includes("Plastica")) type = "Plastica";
            else if (content.includes("Vetro")) type = "Vetro e Lattine";
            else if (content.includes("Verde")) type = "Verde e Ramaglie";
            else if (content.includes("Nessuno")) type = "Nessuno";

            const style = icons[type];

            const html = `
                <div class="flex flex-col items-center animate-in fade-in zoom-in duration-300">
                    <div class="w-24 h-24 ${style.color} rounded-full flex items-center justify-center text-5xl mb-6 shadow-sm">
                        ${style.icon}
                    </div>
                    <div class="text-center">
                        <p class="text-gray-500 text-sm uppercase font-bold tracking-widest mb-1">Cosa esporre:</p>
                        <h2 class="text-2xl font-bold text-gray-800 leading-tight">
                            ${content}
                        </h2>
                    </div>
                </div>
            `;
            document.getElementById('waste-content').innerHTML = html;
        }

        function changeDate(days) {
            viewerDate.setDate(viewerDate.getDate() + days);
            render();
        }

        function resetToTomorrow() {
            viewerDate = new Date();
            viewerDate.setDate(viewerDate.getDate() + 1);
            render();
        }

        // Init
        window.onload = render;
    </script>
</body>
</html>


